{"version":3,"sources":["components/calculator/BtnConfig.js","components/calculator/Calculator.jsx","App.js","index.js"],"names":["BTN_ACTIONS","ADD","THEME","CALC","DELETE","btns","display","action","class","Calculator","btnRef","useRef","expRef","useState","expression","setExpression","useEffect","Array","from","current","querySelectorAll","forEach","e","style","height","offsetWidth","btnClick","item","console","log","expDiv","document","body","classList","toggle","addAnimSpan","oper","parentNode","querySelector","innerHTML","trim","length","remove","cloneNode","appendChild","transform","offsetHeight","res","eval","toString","setTimeout","Math","floor","content","span","createElement","opacity","width","className","ref","map","index","onClick","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1e020026.chunk.js","sourcesContent":["export const BTN_ACTIONS = {\r\n     ADD: 'ADD',\r\n     THEME: 'THEME',\r\n     CALC: 'CALC',\r\n     DELETE: 'DELETE'\r\n}\r\n\r\nexport const btns = [\r\n    {\r\n        display: 'C',\r\n        action: BTN_ACTIONS.DELETE,\r\n        class: 'btn-op'\r\n    },\r\n    {\r\n        display: '(',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: 'btn-op'\r\n    },\r\n    {\r\n        display: ')',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: 'btn-op'\r\n    },\r\n    {\r\n        display: '/',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: 'btn-op'\r\n    },\r\n    {\r\n        display: '7',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: ''\r\n    },\r\n    {\r\n        display: '8',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: ''\r\n    },\r\n    {\r\n        display: '9',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: ''\r\n    },\r\n    {\r\n        display: 'x',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: 'btn-op'\r\n    },\r\n    {\r\n        display: '4',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: ''\r\n    },\r\n    {\r\n        display: '5',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: ''\r\n    },\r\n    {\r\n        display: '6',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: ''\r\n    },\r\n    {\r\n        display: '-',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: 'btn-op'\r\n    },\r\n    {\r\n        display: '1',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: ''\r\n    },\r\n    {\r\n        display: '2',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: ''\r\n    },\r\n    {\r\n        display: '3',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: ''\r\n    },\r\n    {\r\n        display: '+',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: 'btn-op'\r\n    },\r\n    {\r\n        display: 'T',\r\n        action: BTN_ACTIONS.THEME,\r\n        class: ''\r\n    },\r\n    {\r\n        display: '0',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: ''\r\n    },\r\n    {\r\n        display: '.',\r\n        action: BTN_ACTIONS.ADD,\r\n        class: ''\r\n    },\r\n    {\r\n        display: '=',\r\n        action: BTN_ACTIONS.CALC,\r\n        class: 'btn-op'\r\n    },\r\n];","import React, { useRef, useEffect, useState } from 'react'\r\nimport './calculator.css'\r\n\r\nimport { btns, BTN_ACTIONS } from './BtnConfig'\r\n\r\n\r\nconst Calculator = () => {\r\n\r\n    const btnRef = useRef(null)\r\n    const expRef = useRef(null)\r\n    const [expression, setExpression] = useState('')\r\n\r\n    useEffect(() => {\r\n       const buttons = Array.from(btnRef.current.querySelectorAll('button'));\r\n       buttons.forEach(e => e.style.height = e.offsetWidth + 'px');\r\n    }, [])\r\n\r\n    const btnClick = (item) => {\r\n        console.log(item);\r\n        const expDiv = expRef.current;\r\n        if(item.action === BTN_ACTIONS.THEME) document.body.classList.toggle('dark');\r\n\r\n        if(item.action === BTN_ACTIONS.ADD){\r\n            addAnimSpan(item.display);\r\n\r\n            const oper = item.display !== 'x' ? item.display : '*';\r\n            setExpression(expression + oper);\r\n\r\n        }\r\n\r\n        if(item.action === BTN_ACTIONS.DELETE){\r\n            expDiv.parentNode.querySelector('div:last-child').innerHTML = '';\r\n            expDiv.innerHTML = '';\r\n\r\n            setExpression('');\r\n        }\r\n\r\n        if(item.action === BTN_ACTIONS.CALC){\r\n            if(expression.trim().length <= 0) return;\r\n            expDiv.parentNode.querySelector('div:last-child').remove();\r\n            const cloneNode = expDiv.cloneNode(true);\r\n\r\n            expDiv.parentNode.appendChild(cloneNode);\r\n\r\n            const transform = `translateY(${-(expDiv.offsetHeight + 10) + 'px'}) scale(0.4)`;\r\n\r\n            try{\r\n                let res = eval(expression);\r\n                setExpression(res.toString());\r\n                setTimeout(() => {\r\n                    cloneNode.style.transform = transform;\r\n                    expDiv.innerHTML = '';\r\n                    addAnimSpan(Math.floor(res * 100000000) / 100000000);\r\n                }, 200)\r\n            } catch {\r\n                setTimeout(() => {\r\n                    cloneNode.style.transform = transform;\r\n                    cloneNode.innerHTML = 'Syntax Error';\r\n                    \r\n                }, 200)\r\n            } finally {\r\n                console.log('Calc Complete');\r\n            }\r\n        }\r\n    }\r\n\r\n    const addAnimSpan = (content) => {\r\n        const expDiv = expRef.current;\r\n        const span = document.createElement('span');\r\n\r\n        span.innerHTML = content;\r\n        span.style.opacity = '0';\r\n        expDiv.appendChild(span);\r\n\r\n        const width = span.offsetWidth + 'px';\r\n        span.style.width = '0';\r\n\r\n        // expDiv.parentNode.querySelector('div:last-child').style.transform = `translateY(${-expDiv.offsetHeight+'px'}) scale(0.4)`;\r\n\r\n        setTimeout(() => {\r\n            span.style.opacity = '1';\r\n            span.style.width = width;\r\n        }, 100)\r\n\r\n\r\n    }\r\n\r\n    return (\r\n        <div className=\"calculator\">\r\n            <div className=\"calculator__result\">\r\n                <div ref={expRef} className=\"calculator__result__exp\"></div>\r\n                <div className=\"calculator__result__exp\"></div>\r\n            </div>\r\n            <div ref={btnRef} className=\"calculator__btns\">\r\n                {\r\n                    btns.map((item, index) => (\r\n                        <button onClick={() => btnClick(item)}  key={index} className={item.class}>\r\n                            {item.display}\r\n                        </button>\r\n                    ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Calculator\r\n","import './App.css';\nimport Calculator from './components/calculator/Calculator';\nfunction App() {\n  return (\n    <div>\n      <Calculator />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}